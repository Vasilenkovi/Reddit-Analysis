{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Reddit Analysis{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/base/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'css/base/main.css' %}">
    {% block scripts %}
    {% endblock %}

    {% block custom_styles %}
    {% endblock %}

    {% block styles %}
        {% load bootstrap5 %}
        {% bootstrap_css %}
        {% bootstrap_javascript %}
    {% endblock %}
</head>
<body>
    {% block header %}
    <nav class="navbar-main navbar-vertical">
        <a class="navbar-profile d-flex flex-column" href="{% url 'AccountsApp:profile' %}" >
            <img class="profile-img justify-content-md-center" src="{% if user.image %}{{ user.image.url }}{% else %}{% static 'img/jokerge.png' %}{% endif %}" alt="joker">
            
        </a>
        <ul class="navbar-list">
            {% if request.path == '/' %}
                <li class="nav-item nav-item-active active">
                    <a href="{% url 'HomeApp:home' %}">Home</a>
                </li>
            {% else %}
                <li class="nav-item">
                    <a href="{% url 'HomeApp:home' %}">Home</a>
                </li>
            {% endif %}
            <hr>
            {% if 'visualization-app' in request.path %}
                <li class="nav-item nav-item-active active">
                    <a href="{% url 'VisualizationApp:visualization-app' %}">3D Cluster</a>
                </li>
            {% else %}
                <li class="nav-item">
                    <a href="{% url 'VisualizationApp:visualization-app' %}">3D Cluster</a>
                </li>
            {% endif %}
            
            <hr>

            {% if 'parser' in request.path %}
                <li class="nav-item nav-item-active active">
                    <a href="{% url 'ParserApp:start' %}">Parser</a>
                </li>
            {% else %}
                <li class="nav-item">
                    <a href="{% url 'ParserApp:start' %}">Parser</a>
                </li>
            {% endif %}

            <hr>

            {% if 'datasets' in request.path %}
            <li class="nav-item nav-item-active active">
                <a href="{% url 'DatasetViewApp:list' %}">Datasets</a>
            </li>
            {% else %}
                <li class="nav-item ">
                    <a href="{% url 'DatasetViewApp:list' %}">Datasets</a>
                </li>
            {% endif %}

            <hr>
            {% if 'graph' in request.path %}
            <li class="nav-item nav-item-active active">
                <a href="{% url 'GraphApp:base_graph' %}">Graph</a>
            </li>
            {% else %}
                <li class="nav-item">
                    <a href="{% url 'GraphApp:base_graph' %}">Graph</a>
                </li>
            {% endif %}
            <hr>
            {% if 'statistic' in request.path %}
            <li class="nav-item nav-item-active active">
                <a href="{% url 'StatApp:stat' %}">Statistics</a>
            </li>
            {% else %}
                <li class="nav-item">
                    <a href="{% url 'StatApp:stat' %}">Statistics</a>
                </li>
            {% endif %}
        </ul>
    </nav>
    <div class="navbar-main navbar-horizontal">
        {% if user.is_authenticated %}
                <a class="nav-link dropdown-toggle navbar-text" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Welcome, {{ user.username }}
                </a>
                <ul class="dropdown-menu">
                    <li><a href=" {% url 'AccountsApp:profile' %} ">Profile</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a href=" {% url 'AccountsApp:logout' %} ">Log out</a></li>
                </ul>
            {% else %}
                <a class="nav-link dropdown-toggle navbar-text" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    You are not registred
                </a>
                <ul class="dropdown-menu">
                    <li><a href=" {% url 'AccountsApp:login' %} ">Login</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a href=" {% url 'AccountsApp:register' %} ">Sign up</a></li>
                </ul>
            {% endif %}
    </div>
    {% endblock %}

    <div class="main-content">
        
        {% block content %}
    
        {% endblock %}
    </div>
    
    {% block footer %}
    {% endblock %}
</body>
</html>
